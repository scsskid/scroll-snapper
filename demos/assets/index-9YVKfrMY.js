var a=Object.defineProperty;var c=(r,e,t)=>e in r?a(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var o=(r,e,t)=>(c(r,typeof e!="symbol"?e+"":e,t),t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&s(l)}).observe(document,{childList:!0,subtree:!0});function t(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(n){if(n.ep)return;n.ep=!0;const i=t(n);fetch(n.href,i)}})();class d{constructor({scrollContainer:e}){o(this,"elements");o(this,"intersectionObserver");o(this,"current");o(this,"isFirst");o(this,"isLast");o(this,"intersectingLength");o(this,"options");this.elements={scrollContainer:e,slides:e.querySelectorAll(":scope > *"),previousButton:void 0,nextButton:void 0,debug:void 0},this.options={scrollBy:parseInt(u(e,"--scroll-by"))||1},this.current={element:this.elements.slides[0]},this.intersectingLength=0,this.intersectionObserver=null,this.isFirst=!1,this.isLast=!1,this.initState(),this.createControls(),this.createDotNav(),this.createObservers(),this.listen()}initState(){this.elements.slides&&this.elements.slides.forEach((e,t)=>{e.hasIntersected=!1,e.setAttribute("data-index",t.toString())})}createControls(){let e=document.createElement("div");e.className="snap-slider__controls";let t=this.createButton("previous"),s=this.createButton("next");e.appendChild(t),e.appendChild(s),this.elements.previousButton=t,this.elements.nextButton=s,this.elements.scrollContainer.before(e)}createDotNav(){let e=document.createElement("div");e.className="snap-slider__dot-nav",this.elements.slides.forEach(t=>{let s=document.createElement("button");s.className="snap-slider__dot",s.innerHTML=String(parseInt(t.dataset.index)+1),s.addEventListener("click",()=>{this.goToElement(t)}),s.title=`Go to slide ${t.dataset.index}`,s.dataset.index=t.dataset.index,e.appendChild(s)}),this.elements.scrollContainer.after(e)}createObservers(){const e=t=>{for(let s of t)[...this.elements.slides].forEach(n=>{n===s.target&&(n.hasIntersected=s.isIntersecting)}),s.target.classList.toggle("--intersecting",s.isIntersecting);this.synchronize()};this.intersectionObserver=new IntersectionObserver(e,{root:this.elements.scrollContainer,rootMargin:"0px",threshold:.5})}listen(){var e,t;if(this.intersectionObserver){for(let s of this.elements.slides)this.intersectionObserver.observe(s);(e=this.elements.previousButton)==null||e.addEventListener("click",this.goToPrevious.bind(this)),(t=this.elements.nextButton)==null||t.addEventListener("click",this.goToNext.bind(this))}}goToNext(){const e=parseInt(this.current.element.dataset.index)+this.options.scrollBy,t=this.elements.slides[e];t&&this.goToElement(t)}goToPrevious(){const e=parseInt(this.current.element.dataset.index)-this.options.scrollBy,t=this.elements.slides[e<0?0:e];t&&this.goToElement(t)}goToElement(e){h(e),e.scrollIntoView({behavior:"smooth",block:"nearest",inline:"start"})}synchronize(){this.intersectingLength=[...this.elements.slides].filter(e=>e.hasIntersected).length,this.current.element=[...this.elements.slides].find(e=>e.hasIntersected),this.current.element&&(this.isFirst=this.current.element.dataset.index==="0",this.isLast=this.intersectingLength+parseInt(this.current.element.dataset.index)>=this.elements.slides.length,this.isFirst?this.elements.previousButton.disabled=!0:this.elements.previousButton.disabled=!1,this.isLast?this.elements.nextButton.disabled=!0:this.elements.nextButton.disabled=!1,this.updateDotNav())}updateDotNav(){console.log("updateDotNav");const e=this.elements.scrollContainer.parentElement.querySelector(".snap-slider__dot-nav");e.querySelectorAll(".snap-slider__dot").forEach(n=>{n.classList.remove("--current")});const s=e.querySelector(`.snap-slider__dot[data-index="${this.current.element.dataset.index}"]`);s==null||s.classList.add("--current")}createButton(e){let t=document.createElement("button");return t.type="button",t.className=`snap-slider__control --${e}`,t.title=e,t.innerHTML=e,t}}function h(r){r.style.opacity="0.5",setTimeout(()=>{r.style.opacity="1"},500)}function u(r,e){return getComputedStyle(r).getPropertyValue(e)}const m=[];document.querySelectorAll("[data-snap-slider]").forEach(r=>{m.push(new d({scrollContainer:r}))});
